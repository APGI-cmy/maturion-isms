# IAA Session Memory — Session 007

**session_id**: session-007-20260226
**date**: 2026-02-26
**agent**: independent-assurance-agent
**version**: 6.2.0
**contract_version**: 2.0.0

---

## Invocation Metadata

**pr_reviewed**: PR branch `copilot/integrate-mat-with-aimc` — Wave 7: MAT AIMC Advisory Integration
**invoking_agent**: foreman-v2-agent v6.2.0 (A-010 / IAA-INVOKE-001)
**producing_agent**: qa-builder, api-builder, ui-builder (copilot-swe-agent[bot] as runtime executor)
**producing_agent_class**: builder (×3), supervised by foreman-v2-agent (foreman class)
**pr_category**: AAWP_MAT
**ambiguity_rule_applied**: NO — category unambiguous; MAT wave deliverable with PREHANDOVER proof
**invocation_type**: PRE-MERGE — correctly invoked before PR open (Foreman held PR pending IAA token per A-010)

---

## Adoption Phase

**adoption_phase_at_time_of_verdict**: PHASE_A_ADVISORY
IAA is not yet in Phase B. This audit is advisory. All findings formally recorded.
Merge authority remains with CS2.

---

## Check Results

**checks_executed**: 16
**checks_passed**: 16
**checks_failed**: 0

| Check | ID | Result |
|-------|----|--------|
| FAIL-ONLY-ONCE A-001: IAA invocation evidence present | FOO-A001 | PASS ✅ |
| FAIL-ONLY-ONCE A-002: No class exceptions applied | FOO-A002 | PASS ✅ |
| CORE-013: IAA invocation evidence in PREHANDOVER | CORE-013 | PASS ✅ |
| CORE-014: No class exemption claim | CORE-014 | PASS ✅ |
| CORE-015: Session memory present | CORE-015 | PASS ✅ |
| OVL-AM-001: No stub/TODO content in deliverables | OVL-AM-001 | PASS ✅ |
| OVL-AM-002: Evidence artifacts present (7/7) | OVL-AM-002 | PASS ✅ |
| OVL-AM-003: Governance/CANON alignment | OVL-AM-003 | PASS ✅ |
| CHECK-1: Builder contracts exist (api, ui, qa) | IND-1 | PASS ✅ |
| CHECK-2: PREHANDOVER proof completeness | IND-2 | PASS ✅ |
| CHECK-3: Test suite 245/245 GREEN | IND-3 | PASS ✅ |
| CHECK-4: No stub tests | IND-4 | PASS ✅ |
| CHECK-5a: advisory-service AIMC compliance | IND-5A | PASS ✅ |
| CHECK-5b: aiAssistantConfig no model names | IND-5B | PASS ✅ |
| CHECK-5c: .env.example no OPENAI_* keys | IND-5C | PASS ✅ |
| CHECK-5d: EmbeddedAIAssistant isAiUnavailable + data-testid | IND-5D | PASS ✅ |
| CHECK-6: BUILD_PROGRESS_TRACKER Wave 7 = COMPLETE | IND-6 | PASS ✅ |
| CHECK-7: POLC boundary (foreman did not write code) | IND-7 | PASS ✅ |
| CHECK-8: Session memory completeness | IND-8 | PASS ✅ |

---

## Merge Gate Parity

**merge_gate_parity_result**: PASS

| Check | Local Result |
|-------|-------------|
| merge-gate/verdict (vitest 245/245) | PASS ✅ |
| governance/alignment (CANON_INVENTORY 0 bad hashes) | PASS ✅ |
| stop-and-fix/enforcement (all 7 artifacts committed) | PASS ✅ |

---

## Verdict

**verdict**: ASSURANCE-TOKEN
**token_reference**: IAA-WAVE7-MAT-20260226-PASS
**failures_cited**: none

---

## Prior Sessions Reviewed

**prior_sessions_reviewed**:
- session-001-20260225
- session-002-20260225
- session-003-20260225
- session-004-20260225
- session-005-20260225
- session-006-20260225

**Unresolved items carried forward**: None — all prior REJECTION-PACKAGEs were Phase A advisory, retroactive audits on different PRs.

**Open REJECTION-PACKAGEs relevant to this PR**: None.

---

## FAIL-ONLY-ONCE Rules Applied

**fail_only_once_rules_applied**:
- A-001: IAA invocation evidence — PASS (PREHANDOVER proof present with PENDING token)
- A-002: No class exceptions — PASS (Foreman invoked IAA per A-010, no exemption claimed)
- A-003: Ambiguity resolves to mandatory invocation — NOT TRIGGERED (category unambiguous)
- A-004: Bootstrap directive compliance — PASS (IAA contract file read first before repo)

**fail_only_once_updates**: None required this session. No new recurring patterns identified.

---

## Learning Notes

1. **Pre-merge invocation pattern works**: This is the first session where Foreman correctly withheld PR open pending IAA token (using PENDING state in PREHANDOVER). All prior sessions were retroactive. This is the target governance pattern. Should be noted as a positive precedent.

2. **advisory-service.ts adapter wiring nuance**: The service instantiates its own AICentre instance (via `buildAdvisoryAICentre()`) with `OpenAIAdapter` and `GitHubModelsAdapter` from the AIMC package. This is architecturally compliant — all AI calls route through `centre.request()`, no direct provider SDKs. IAA should distinguish between (a) importing provider SDKs directly (VIOLATION) and (b) importing AIMC adapters to wire an AICentre instance (COMPLIANT). Future checks: grep for `from 'openai'` / `from '@anthropic-ai'` not `from '*/adapters/*'`.

3. **`organisationId: 'default'` inline TODO**: EmbeddedAIAssistant.tsx has one `// TODO: wire real org context` on the hardcoded `organisationId: 'default'` field in the fetch call body. This is a known deferred item, not a blocking stub. Future checks should track this as a Wave 8+ improvement item.

4. **Foreman governance files uncommitted**: PREHANDOVER-session-058 and session-058 show as `??` (untracked) in git status on the current branch. These are workspace-local governance artifacts. They should be committed as part of the PR bundle when the PR is opened. Foreman should ensure these are committed before CS2 merges.

---

## Suggestions for Improvement (MANDATORY)

**Primary improvement**: The distinction between AIMC adapter imports (compliant) and direct provider SDK imports (violation) should be codified in `iaa-core-invariants-checklist.md` under AAWP_MAT overlay. A dedicated AIMC compliance check should explicitly grep for `from 'openai'` and `from '@anthropic-ai/sdk'` (direct SDKs) separately from `from '*/adapters/*'` or `from '*/ai-centre/*'` (AIMC framework). Current stub-level check conflates these.

**Secondary improvement**: Foreman governance workspace files (PREHANDOVER proof, session memory) should be explicitly required to be committed to the PR branch in the PREHANDOVER bundle completeness table. Current table only lists production code artifacts. Adding a "GOVERNANCE_FILES" section would make bundle completeness checks unambiguous.

---

## Breach Registry Note

No new breaches identified this session. Breach registry file was absent — created as part of this session bundle.

---

*Written by: independent-assurance-agent v6.2.0 | Authority: CS2 (Johan Ras / @APGI-cmy) | 2026-02-26*
